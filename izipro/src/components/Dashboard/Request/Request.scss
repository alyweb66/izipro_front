@use '../../../styles/variables' as v;
@use '../../../styles/mixins' as m;

@keyframes blink {
    0% {
        color: red;
    }

    50% {
        color: transparent;
    }

    100% {
        color: red;
    }
}

.request {
    position: relative;
    font-family: v.$font;
    height: 81vh;


    &.no-req {
        display: flex;
        justify-content: center;
        width: 100%;
        margin: 3rem auto;
        border-radius: 0.5rem;
        box-shadow: none;
        max-width: 90%;
        color: v.$color-primary-orange;
        text-align: center;

    }

    .request__form {
        @include m.select;

        .request__slider-container {
            margin: auto;
        }

        & {
            width: 80%;
            margin: auto;
            margin-top: 1rem;
            border-radius: 0.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }




        &.error {
            width: 100%;
            text-align: center;
            font-size: 1rem;
            color: v.$color-error;
            box-shadow: none;
        }

        .urgent-button {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1rem;
            color: v.$color-primary-blue;
            font-weight: 500;
            border: none;
            background-color: transparent;
            margin: 0 auto;
            cursor: pointer;


            .urgent-icon {
                margin-left: 1rem;
                font-size: 2rem;
            }

            &.active {
                background-color: transparent;
                color: red;

                .urgent-icon {
                    visibility: visible;
                    margin-left: 1rem;
                    font-size: 2rem;
                    animation: blink 1s linear infinite;
                }

            }

        }

        .request__form__title {
            text-align: center;
            margin: auto;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            font-size: 1rem;
            font-weight: 500;
            color: v.$color-primary-orange;

            &.urgent {
                margin-top: 2rem;
            }

            &.radius {
                margin-bottom: 0.5rem;
                margin-top: 1.2rem;
            }

            &.media {
                margin-bottom: 0.5rem;
                margin-top: 0;
            }
        }



        .request__form__select {
            width: 50%;
            padding: 0.5rem;
            margin: 0.5rem auto;

            background: transparent;
            border: 1px solid black;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 400;
            color: black;
            padding-right: 1.5rem;
            background-color: white;

            &:hover {
                border: 1px solid black;
                font-weight: 500;
            }
        }

        .request__form__label-radius {
            margin: auto;

        }

        .request__form__input-radius {
            margin: auto;
            margin-top: 0;
        }

        .request__form__map {
            display: flex;
            justify-content: center;
            width: 100%;
            margin: 1rem 0;

            .request__form__map__map {
                position: relative;
                margin: 0 auto;
                width: 600px;
                height: 400px;
                border-radius: 0.5rem;
                overflow: hidden;
                box-shadow: -5px 0 10px #6666661c,
                    -5px 0 10px #ffffff17,
                    5px 0 10px #6666661c;

                .map-marker {
                    .map-marker__icon {
                        font-size: 2rem;
                        color: v.$color-primary-blue;
                    }
                }
            }

        }

        .request__form__label {
            width: auto;
            margin: 0 20%;
            padding: 0.5rem;
            background: white;
            box-shadow: -5px 0 10px #66666610,
                -5px 0 10px #ffffff05,
                5px 0 10px #6666660e;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 500;
            color: v.$color-primary-orange;

            .request__form__label__input {
                width: 100%;
                color: black;
                font-weight: 400;
                margin-bottom: 0.5rem;
                border: none;
                background-color: transparent;

                &.title {
                    max-width: 100%;
                }

                &.textarea {
                    max-width: 100%;
                }

                &.length {
                    color: v.$color-primary-orange;
                    background-color: transparent;
                }

                &:focus {
                    @include m.border;

                    & {
                        border-radius: 0.4rem;
                    }
                }
            }
        }

        .request__form__input-media {
            max-width: 100%;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 1rem auto;
            gap: 1rem;
            border-radius: 0.5rem;

            &.container {
                overflow: hidden;
                scrollbar-width: none;

                &::-webkit-scrollbar {
                    display: none;
                    /* For Chrome, Safari and Opera */
                }
            }

            &.preview {
                box-shadow: -5px 0 10px #6666661e,
                    -5px 0 10px #ffffff62,
                    5px 0 10px #66666680;
            }

            &.remove {
                margin: 0;
                width: 0.8rem;
                height: 1.5rem;
                border: none;
                background-color: transparent;
                color: red;
                font-size: 1rem;
                font-weight: 600;
                cursor: pointer;
                transition: transform 0.1s ease;

                &:hover {
                    transform: scale(1.5);
                }
            }

            &.file {
                display: none;
            }

            &.camera {
                display: none;
            }

            &.camera-icone {
                font-size: 2rem;
                cursor: pointer;
                color: v.$color-primary-orange;

            }

        }

        .request__form__input title {
            max-width: 190px;
            display: none;
        }

        .request__form__label-file {
            margin: auto;
            margin-bottom: 1rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 250px;
            height: 190px;
            border: 2px dashed #ccc;
            align-items: center;
            text-align: center;
            padding: 5px;
            color: #404040;
            cursor: pointer;
        }

        .request__form__button {
            @include m.blue-button;

            & {
                margin: 1rem auto;
            }
        }


        .message {
            margin: auto;
            margin-top: 1rem;

            font-size: 0.8rem;

            .message__error {
                font-size: 1rem;
                color: v.$color-error;
            }

            .message__success {
                font-size: 1rem;
                color: v.$color-validation;
            }
        }

    }
}

@media (max-width: 480px) {
    .request {

        .request__form {
            width: 90%;

            .request__form__select {
                width: 90%;
            }

            .request__form__label {
                margin: 0 10%;
            }

            .request__form__input-media {
                &.container {
                    margin: 0;
                }
            }


        }
    }
}

@media (max-width: 700px) {
    .request {

        .request__form {

            .request__form__select {
                width: 70%;
            }

            .request__form__title {
                &.urgent {
                    margin-top: 0rem;
                }
            }

        }
    }
}